{"version":3,"file":"cli.js","sources":["../node_modules/mri/lib/index.js","../node_modules/repeat-string/index.js","../node_modules/pad-right/index.js","../node_modules/sade/lib/utils.js","../node_modules/sade/lib/index.js","../src/cli.ts"],"sourcesContent":["'use strict';\n\nconst EQQ = /\\s|=/;\nconst FLAG = /^-{1,2}/;\nconst PREFIX = /^--no-/i;\n\nfunction isBool(any) {\n\treturn typeof any === 'boolean';\n}\n\nfunction toArr(any) {\n\treturn Array.isArray(any) ? any : any == null ? [] : [any];\n}\n\nfunction toString(any) {\n\treturn any == null || any === true ? '' : String(any);\n}\n\nfunction toBool(any) {\n\treturn any === 'false' ? false : Boolean(any);\n}\n\nfunction toNum(any) {\n\tlet x = Number(any);\n\treturn !isBool(any) && (x * 0 === 0) ? x : any;\n}\n\nfunction getAlibi(names, arr) {\n\tif (arr.length === 0) return arr;\n\tlet k, i = 0, len = arr.length, vals = [];\n\tfor (; i < len; i++) {\n\t\tk = arr[i];\n\t\tvals.push(k);\n\t\tif (names[k] !== void 0) {\n\t\t\tvals = vals.concat(names[k]);\n\t\t}\n\t}\n\treturn vals;\n}\n\nfunction typecast(key, val, strings, booleans) {\n\tif (strings.indexOf(key) !== -1) return toString(val);\n\tif (booleans.indexOf(key) !== -1) return toBool(val);\n\treturn toNum(val);\n}\n\nmodule.exports = function(args, opts) {\n\targs = args || [];\n\topts = opts || {};\n\n\topts.string = toArr(opts.string);\n\topts.boolean = toArr(opts.boolean);\n\n\tconst aliases = {};\n\tlet k, i, j, x, y, len, type;\n\n\tif (opts.alias !== void 0) {\n\t\tfor (k in opts.alias) {\n\t\t\taliases[k] = toArr(opts.alias[k]);\n\t\t\tlen = aliases[k].length; // save length\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tx = aliases[k][i]; // alias's key name\n\t\t\t\taliases[x] = [k]; // set initial array\n\t\t\t\tfor (j = 0; j < len; j++) {\n\t\t\t\t\tif (x !== aliases[k][j]) {\n\t\t\t\t\t\taliases[x].push(aliases[k][j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (opts.default !== void 0) {\n\t\tfor (k in opts.default) {\n\t\t\ttype = typeof opts.default[k];\n\t\t\topts[type] = (opts[type] || []).concat(k);\n\t\t}\n\t}\n\n\t// apply to all aliases\n\topts.string = getAlibi(aliases, opts.string);\n\topts.boolean = getAlibi(aliases, opts.boolean);\n\n\tlet idx = 0;\n\tconst out = { _: [] };\n\n\twhile (args[idx] !== void 0) {\n\t\tlet incr = 1;\n\t\tconst val = args[idx];\n\n\t\tif (val === '--') {\n\t\t\tout._ = out._.concat(args.slice(idx + 1));\n\t\t\tbreak;\n\t\t} else if (!FLAG.test(val)) {\n\t\t\tout._.push(val);\n\t\t} else if (PREFIX.test(val)) {\n\t\t\tout[val.replace(PREFIX, '')] = false;\n\t\t} else {\n\t\t\tlet tmp;\n\t\t\tconst segs = val.split(EQQ);\n\t\t\tconst isGroup = segs[0].charCodeAt(1) !== 45; // '-'\n\n\t\t\tconst flag = segs[0].substr(isGroup ? 1 : 2);\n\t\t\tlen = flag.length;\n\t\t\tconst key = isGroup ? flag[len - 1] : flag;\n\n\t\t\tif (opts.unknown !== void 0 && aliases[key] === void 0) {\n\t\t\t\treturn opts.unknown(segs[0]);\n\t\t\t}\n\n\t\t\tif (segs.length > 1) {\n\t\t\t\ttmp = segs[1];\n\t\t\t} else {\n\t\t\t\ttmp = args[idx + 1] || true;\n\t\t\t\tFLAG.test(tmp) ? (tmp = true) : (incr = 2);\n\t\t\t}\n\n\t\t\tif (isGroup && len > 1) {\n\t\t\t\tfor (i = len - 1; i--; ) {\n\t\t\t\t\tk = flag[i]; // all but last key\n\t\t\t\t\tout[k] = typecast(k, true, opts.string, opts.boolean);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst value = typecast(key, tmp, opts.string, opts.boolean);\n\t\t\tout[key] = out[key] !== void 0 ? toArr(out[key]).concat(value) : value;\n\n\t\t\t// handle discarded args when dealing with booleans\n\t\t\tif (isBool(value) && !isBool(tmp) && tmp !== 'true' && tmp !== 'false') {\n\t\t\t\tout._.push(tmp);\n\t\t\t}\n\t\t}\n\n\t\tidx += incr;\n\t}\n\n\tif (opts.default !== void 0) {\n\t\tfor (k in opts.default) {\n\t\t\tif (out[k] === void 0) {\n\t\t\t\tout[k] = opts.default[k];\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (k in out) {\n\t\tif (aliases[k] === void 0) continue;\n\t\ty = out[k];\n\t\tlen = aliases[k].length;\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tout[aliases[k][i]] = y; // assign value\n\t\t}\n\t}\n\n\treturn out;\n};\n","/*!\n * repeat-string <https://github.com/jonschlinkert/repeat-string>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\n/**\n * Results cache\n */\n\nvar res = '';\nvar cache;\n\n/**\n * Expose `repeat`\n */\n\nmodule.exports = repeat;\n\n/**\n * Repeat the given `string` the specified `number`\n * of times.\n *\n * **Example:**\n *\n * ```js\n * var repeat = require('repeat-string');\n * repeat('A', 5);\n * //=> AAAAA\n * ```\n *\n * @param {String} `string` The string to repeat\n * @param {Number} `number` The number of times to repeat the string\n * @return {String} Repeated string\n * @api public\n */\n\nfunction repeat(str, num) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  // cover common, quick use cases\n  if (num === 1) return str;\n  if (num === 2) return str + str;\n\n  var max = str.length * num;\n  if (cache !== str || typeof cache === 'undefined') {\n    cache = str;\n    res = '';\n  } else if (res.length >= max) {\n    return res.substr(0, max);\n  }\n\n  while (max > res.length && num > 1) {\n    if (num & 1) {\n      res += str;\n    }\n\n    num >>= 1;\n    str += str;\n  }\n\n  res += str;\n  res = res.substr(0, max);\n  return res;\n}\n","'use strict';\n\nvar repeat = require('repeat-string');\n\nmodule.exports = function padLeft(val, num, str) {\n  var padding = '';\n  var diff = num - val.length;\n\n  // Breakpoints based on benchmarks to use the fastest approach\n  // for the given number of zeros\n  if (diff <= 5 && !str) {\n    padding = '00000';\n  } else if (diff <= 25 && !str) {\n    padding = '000000000000000000000000000';\n  } else {\n    return val + repeat(str || '0', diff);\n  }\n\n  return val + padding.slice(0, diff);\n};\n","const rpad = require('pad-right');\n\nconst GAP = 4;\nconst __ = '  ';\nconst ALL = '__all__';\nconst DEF = '__default__';\nconst NL = '\\n';\n\nfunction format(arr) {\n\tif (!arr.length) return '';\n\tlet len = maxLen( arr.map(x => x[0]) ) + GAP;\n\tlet join = a => rpad(a[0], len, ' ') + a[1] + (a[2] == null ? '' : `  (default ${a[2]})`);\n\treturn arr.map(join);\n}\n\nfunction maxLen(arr) {\n  let c=0, d=0, l=0, i=arr.length;\n  if (i) while (i--) {\n    d = arr[i].length;\n    if (d > c) {\n      l = i; c = d;\n    }\n  }\n  return arr[l].length;\n}\n\nfunction noop(s) {\n\treturn s;\n}\n\nfunction section(str, arr, fn) {\n\tif (!arr || !arr.length) return '';\n\tlet i=0, out='';\n\tout += (NL + __ + str);\n\tfor (; i < arr.length; i++) {\n\t\tout += (NL + __ + __ + fn(arr[i]));\n\t}\n\treturn out + NL;\n}\n\nexports.help = function (bin, tree, key) {\n\tlet out='', cmd=tree[key], pfx=`$ ${bin}`, all=tree[ALL];\n\tlet prefix = s => `${pfx} ${s}`;\n\n\t// update ALL & CMD options\n\tall.options.push(['-h, --help', 'Displays this message']);\n\tcmd.options = (cmd.options || []).concat(all.options);\n\n\t// write options placeholder\n\t(cmd.options.length > 0) && (cmd.usage += ' [options]');\n\n\t// description ~> text only; usage ~> prefixed\n\tout += section('Description', cmd.describe, noop);\n\tout += section('Usage', [cmd.usage], prefix);\n\n\tif (key === DEF) {\n\t\t// General help :: print all non-internal commands & their 1st line of text\n\t\tlet cmds = Object.keys(tree).filter(k => !/__/.test(k));\n\t\tlet text = cmds.map(k => [k, (tree[k].describe || [''])[0]]);\n\t\tout += section('Available Commands', format(text), noop);\n\n\t\tout += (NL + __ + 'For more info, run any command with the `--help` flag');\n\t\tcmds.slice(0, 2).forEach(k => {\n\t\t\tout += (NL + __ + __ + `${pfx} ${k} --help`);\n\t\t});\n\t\tout += NL;\n\t}\n\n\tout += section('Options', format(cmd.options), noop);\n\tout += section('Examples', cmd.examples.map(prefix), noop);\n\n\treturn out;\n}\n\nexports.error = function (bin, str, num=1) {\n\tlet out = section('ERROR', [str], noop);\n\tout += (NL + __ + `Run \\`$ ${bin} --help\\` for more info.` + NL);\n\tconsole.error(out);\n\tprocess.exit(num);\n}\n\n// Strips leading `-|--` & extra space(s)\nexports.parse = function (str) {\n\treturn (str || '').split(/^-{1,2}|,|\\s+-{1,2}|\\s+/).filter(Boolean);\n}\n\n// @see https://stackoverflow.com/a/18914855/3577474\nexports.sentences = function (str) {\n\treturn (str || '').replace(/([.?!])\\s*(?=[A-Z])/g, '$1|').split('|');\n}\n","const mri = require('mri');\nconst $ = require('./utils');\n\nconst ALL = '__all__';\nconst DEF = '__default__';\n\nclass Sade {\n\tconstructor(name) {\n\t\tthis.tree = {};\n\t\tthis.name = name;\n\t\tthis.ver = '0.0.0';\n\t\tthis.default = '';\n\t\t// set internal shapes;\n\t\tthis.command(ALL);\n\t\tthis.command(`${DEF} <command>`)\n\t\t\t.option('-v, --version', 'Displays current version');\n\t\tthis.curr = ''; // reset\n\t}\n\n\tcommand(str, desc, opts) {\n\t\tlet cmd=[], usage=[], rgx=/(\\[|<)/;\n\t\t// All non-([|<) are commands\n\t\tstr.split(/\\s+/).forEach(x => {\n\t\t\t(rgx.test(x.charAt(0)) ? usage : cmd).push(x);\n\t\t});\n\n\t\t// Back to string~!\n\t\tcmd = cmd.join(' ');\n\n\t\tif (cmd in this.tree) {\n\t\t\tthrow new Error(`Command already exists: ${cmd}`);\n\t\t}\n\n\t\tthis.curr = cmd;\n\t\t(opts && opts.default) && (this.default=cmd);\n\n\t\t!~cmd.indexOf('__') && usage.unshift(cmd); // re-include `cmd`\n\t\tusage = usage.join(' '); // to string\n\n\t\tthis.tree[cmd] = { usage, options:[], alias:{}, default:{}, examples:[] };\n\t\tdesc && this.describe(desc);\n\n\t\treturn this;\n\t}\n\n\tdescribe(str) {\n\t\tthis.tree[this.curr || DEF].describe = Array.isArray(str) ? str : $.sentences(str);\n\t\treturn this;\n\t}\n\n\toption(str, desc, val) {\n\t\tlet cmd = this.tree[ this.curr || ALL ];\n\n\t\tlet [flag, alias] = $.parse(str);\n\t\t(alias && alias.length > 1) && ([flag, alias]=[alias, flag]);\n\n\t\tstr = `--${flag}`;\n\t\tif (alias && alias.length > 0) {\n\t\t\tstr = `-${alias}, ${str}`;\n\t\t\tlet old = cmd.alias[alias];\n\t\t\tcmd.alias[alias] = (old || []).concat(flag);\n\t\t}\n\n\t\tlet arr = [str, desc || ''];\n\n\t\tif (val !== void 0) {\n\t\t\tarr.push(val);\n\t\t\tcmd.default[flag] = val;\n\t\t}\n\n\t\tcmd.options.push(arr);\n\t\treturn this;\n\t}\n\n\taction(handler) {\n\t\tthis.tree[ this.curr || DEF ].handler = handler;\n\t\treturn this;\n\t}\n\n\texample(str) {\n\t\tthis.tree[ this.curr || DEF ].examples.push(str);\n\t\treturn this;\n\t}\n\n\tversion(str) {\n\t\tthis.ver = str;\n\t\treturn this;\n\t}\n\n\tparse(arr, opts={}) {\n\t\tlet offset = 2; // argv slicer\n\t\tlet alias = { h:'help', v:'version' };\n\t\tlet argv = mri(arr.slice(offset), { alias });\n\t\tlet bin = this.name;\n\n\t\t// Loop thru possible command(s)\n\t\tlet tmp, name='';\n\t\tlet i=1, len=argv._.length + 1;\n\t\tfor (; i < len; i++) {\n\t\t\ttmp = argv._.slice(0, i).join(' ');\n\t\t\tif (this.tree[tmp] !== void 0) {\n\t\t\t\tname=tmp; offset=(i + 2); // argv slicer\n\t\t\t}\n\t\t}\n\n\t\tlet cmd = this.tree[name];\n\t\tlet isVoid = (cmd === void 0);\n\n\t\tif (isVoid) {\n\t\t\tif (this.default) {\n\t\t\t\tname = this.default;\n\t\t\t\tcmd = this.tree[name];\n\t\t\t\tarr.unshift(name);\n\t\t\t\toffset++;\n\t\t\t} else if (name) {\n\t\t\t\treturn $.error(bin, `Invalid command: ${name}`);\n\t\t\t} //=> else: cmd not specified, wait for now...\n\t\t}\n\n\t\tif (argv.version) {\n\t\t\treturn console.log(`${bin}, ${this.ver}`);\n\t\t}\n\n\t\tif (argv.help) {\n\t\t\treturn this.help(!isVoid && name);\n\t\t}\n\n\t\tif (cmd === void 0) {\n\t\t\treturn $.error(bin, 'No command specified.');\n\t\t}\n\n\t\tlet all = this.tree[ALL];\n\t\t// merge all objects :: params > command > all\n\t\topts.alias = Object.assign(all.alias, cmd.alias, opts.alias);\n\t\topts.default = Object.assign(all.default, cmd.default, opts.default);\n\n\t\tlet vals = mri(arr.slice(offset), opts);\n\t\tlet segs = cmd.usage.split(/\\s+/);\n\t\tlet reqs = segs.filter(x => x.charAt(0)==='<');\n\t\tlet args = vals._.splice(0, reqs.length);\n\n\t\tif (args.length < reqs.length) {\n\t\t\tname && (bin += ` ${name}`); // for help text\n\t\t\treturn $.error(bin, 'Insufficient arguments!');\n\t\t}\n\n\t\tsegs.filter(x => x.charAt(0)==='[').forEach(_ => {\n\t\t\targs.push(vals._.shift()); // adds `undefined` per [slot] if no more\n\t\t});\n\n\t\targs.push(vals); // flags & co are last\n\t\tlet handler = cmd.handler;\n\t\treturn opts.lazy ? { args, name, handler } : handler.apply(null, args);\n\t}\n\n\thelp(str) {\n\t\tconsole.log(\n\t\t\t$.help(this.name, this.tree, str || DEF)\n\t\t);\n\t}\n}\n\nmodule.exports = str => new Sade(str);\n","import * as fs from 'fs';\nimport * as path from 'path';\nimport sade from 'sade';\nimport colors from 'kleur';\nimport * as pkg from '../package.json';\nimport { elapsed, repeat, left_pad, format_milliseconds } from './utils';\nimport { InvalidEvent, ErrorEvent, FatalEvent, BuildEvent, ReadyEvent } from './interfaces';\n\nconst prog = sade('sapper').version(pkg.version);\n\nif (process.argv[2] === 'start') {\n\t// remove this in a future version\n\tconsole.error(colors.bold.red(`'sapper start' has been removed`));\n\tconsole.error(`Use 'node [build_dir]' instead`);\n\tprocess.exit(1);\n}\n\nconst start = Date.now();\n\nprog.command('dev')\n\t.describe('Start a development server')\n\t.option('-p, --port', 'Specify a port')\n\t.option('-o, --open', 'Open a browser window')\n\t.option('--dev-port', 'Specify a port for development server')\n\t.option('--hot', 'Use hot module replacement (requires webpack)', true)\n\t.option('--live', 'Reload on changes if not using --hot', true)\n\t.option('--bundler', 'Specify a bundler (rollup or webpack)')\n\t.option('--cwd', 'Current working directory', '.')\n\t.option('--src', 'Source directory', 'src')\n\t.option('--routes', 'Routes directory', 'src/routes')\n\t.option('--static', 'Static files directory', 'static')\n\t.option('--output', 'Sapper output directory', '__sapper__')\n\t.option('--build-dir', 'Development build directory', '__sapper__/dev')\n\t.action(async (opts: {\n\t\tport: number,\n\t\topen: boolean,\n\t\t'dev-port': number,\n\t\tlive: boolean,\n\t\thot: boolean,\n\t\tbundler?: 'rollup' | 'webpack',\n\t\tcwd: string,\n\t\tsrc: string,\n\t\troutes: string,\n\t\tstatic: string,\n\t\toutput: string,\n\t\t'build-dir': string\n\t}) => {\n\t\tconst { dev } = await import('./api/dev');\n\n\t\ttry {\n\t\t\tconst watcher = dev({\n\t\t\t\tcwd: opts.cwd,\n\t\t\t\tsrc: opts.src,\n\t\t\t\troutes: opts.routes,\n\t\t\t\tstatic: opts.static,\n\t\t\t\toutput: opts.output,\n\t\t\t\tdest: opts['build-dir'],\n\t\t\t\tport: opts.port,\n\t\t\t\t'dev-port': opts['dev-port'],\n\t\t\t\tlive: opts.live,\n\t\t\t\thot: opts.hot,\n\t\t\t\tbundler: opts.bundler\n\t\t\t});\n\n\t\t\tlet first = true;\n\n\t\t\twatcher.on('stdout', data => {\n\t\t\t\tprocess.stdout.write(data);\n\t\t\t});\n\n\t\t\twatcher.on('stderr', data => {\n\t\t\t\tprocess.stderr.write(data);\n\t\t\t});\n\n\t\t\twatcher.on('ready', async (event: ReadyEvent) => {\n\t\t\t\tif (first) {\n\t\t\t\t\tconsole.log(colors.bold.cyan(`> Listening on http://localhost:${event.port}`));\n\t\t\t\t\tif (opts.open) {\n\t\t\t\t\t\tconst { exec } = await import('child_process');\n\t\t\t\t\t\texec(`open http://localhost:${event.port}`);\n\t\t\t\t\t}\n\t\t\t\t\tfirst = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\twatcher.on('invalid', (event: InvalidEvent) => {\n\t\t\t\tconst changed = event.changed.map(filename => path.relative(process.cwd(), filename)).join(', ');\n\t\t\t\tconsole.log(`\\n${colors.bold.cyan(changed)} changed. rebuilding...`);\n\t\t\t});\n\n\t\t\twatcher.on('error', (event: ErrorEvent) => {\n\t\t\t\tconsole.log(colors.red(`✗ ${event.type}`));\n\t\t\t\tconsole.log(colors.red(event.message));\n\t\t\t});\n\n\t\t\twatcher.on('fatal', (event: FatalEvent) => {\n\t\t\t\tconsole.log(colors.bold.red(`> ${event.message}`));\n\t\t\t\tif (event.log) console.log(event.log);\n\t\t\t});\n\n\t\t\twatcher.on('build', (event: BuildEvent) => {\n\t\t\t\tif (event.errors.length) {\n\t\t\t\t\tconsole.log(colors.bold.red(`✗ ${event.type}`));\n\n\t\t\t\t\tevent.errors.filter(e => !e.duplicate).forEach(error => {\n\t\t\t\t\t\tif (error.file) console.log(colors.bold(error.file));\n\t\t\t\t\t\tconsole.log(error.message);\n\t\t\t\t\t});\n\n\t\t\t\t\tconst hidden = event.errors.filter(e => e.duplicate).length;\n\t\t\t\t\tif (hidden > 0) {\n\t\t\t\t\t\tconsole.log(`${hidden} duplicate ${hidden === 1 ? 'error' : 'errors'} hidden\\n`);\n\t\t\t\t\t}\n\t\t\t\t} else if (event.warnings.length) {\n\t\t\t\t\tconsole.log(colors.bold.yellow(`• ${event.type}`));\n\n\t\t\t\t\tevent.warnings.filter(e => !e.duplicate).forEach(warning => {\n\t\t\t\t\t\tif (warning.file) console.log(colors.bold(warning.file));\n\t\t\t\t\t\tconsole.log(warning.message);\n\t\t\t\t\t});\n\n\t\t\t\t\tconst hidden = event.warnings.filter(e => e.duplicate).length;\n\t\t\t\t\tif (hidden > 0) {\n\t\t\t\t\t\tconsole.log(`${hidden} duplicate ${hidden === 1 ? 'warning' : 'warnings'} hidden\\n`);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(`${colors.bold.green(`✔ ${event.type}`)} ${colors.gray(`(${format_milliseconds(event.duration)})`)}`);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log(colors.bold.red(`> ${err.message}`));\n\t\t\tprocess.exit(1);\n\t\t}\n\t});\n\nprog.command('build [dest]')\n\t.describe('Create a production-ready version of your app')\n\t.option('-p, --port', 'Default of process.env.PORT', '3000')\n\t.option('--bundler', 'Specify a bundler (rollup or webpack, blank for auto)')\n\t.option('--legacy', 'Create separate legacy build')\n\t.option('--cwd', 'Current working directory', '.')\n\t.option('--src', 'Source directory', 'src')\n\t.option('--routes', 'Routes directory', 'src/routes')\n\t.option('--output', 'Sapper output directory', '__sapper__')\n\t.example(`build custom-dir -p 4567`)\n\t.action(async (dest = '__sapper__/build', opts: {\n\t\tport: string,\n\t\tlegacy: boolean,\n\t\tbundler?: 'rollup' | 'webpack',\n\t\tcwd: string,\n\t\tsrc: string,\n\t\troutes: string,\n\t\toutput: string\n\t}) => {\n\t\tconsole.log(`> Building...`);\n\n\t\ttry {\n\t\t\tawait _build(opts.bundler, opts.legacy, opts.cwd, opts.src, opts.routes, opts.output, dest);\n\n\t\t\tconst launcher = path.resolve(dest, 'index.js');\n\n\t\t\tfs.writeFileSync(launcher, `\n\t\t\t\t// generated by sapper build at ${new Date().toISOString()}\n\t\t\t\tprocess.env.NODE_ENV = process.env.NODE_ENV || 'production';\n\t\t\t\tprocess.env.PORT = process.env.PORT || ${opts.port || 3000};\n\n\t\t\t\tconsole.log('Starting server on port ' + process.env.PORT);\n\t\t\t\trequire('./server/server.js');\n\t\t\t`.replace(/^\\t+/gm, '').trim());\n\n\t\t\tconsole.error(`\\n> Finished in ${elapsed(start)}. Type ${colors.bold.cyan(`node ${dest}`)} to run the app.`);\n\t\t} catch (err) {\n\t\t\tconsole.log(`${colors.bold.red(`> ${err.message}`)}`);\n\t\t\tprocess.exit(1);\n\t\t}\n\t});\n\nprog.command('export [dest]')\n\t.describe('Export your app as static files (if possible)')\n\t.option('--build', '(Re)build app before exporting', true)\n\t.option('--basepath', 'Specify a base path')\n\t.option('--timeout', 'Milliseconds to wait for a page (--no-timeout to disable)', 5000)\n\t.option('--legacy', 'Create separate legacy build')\n\t.option('--bundler', 'Specify a bundler (rollup or webpack, blank for auto)')\n\t.option('--cwd', 'Current working directory', '.')\n\t.option('--src', 'Source directory', 'src')\n\t.option('--routes', 'Routes directory', 'src/routes')\n\t.option('--static', 'Static files directory', 'static')\n\t.option('--output', 'Sapper output directory', '__sapper__')\n\t.option('--build-dir', 'Intermediate build directory', '__sapper__/build')\n\t.action(async (dest = '__sapper__/export', opts: {\n\t\tbuild: boolean,\n\t\tlegacy: boolean,\n\t\tbundler?: 'rollup' | 'webpack',\n\t\tbasepath?: string,\n\t\ttimeout: number | false,\n\t\tcwd: string,\n\t\tsrc: string,\n\t\troutes: string,\n\t\tstatic: string,\n\t\toutput: string,\n\t\t'build-dir': string,\n\t}) => {\n\t\ttry {\n\t\t\tif (opts.build) {\n\t\t\t\tconsole.log(`> Building...`);\n\t\t\t\tawait _build(opts.bundler, opts.legacy, opts.cwd, opts.src, opts.routes, opts.output, opts['build-dir']);\n\t\t\t\tconsole.error(`\\n> Built in ${elapsed(start)}`);\n\t\t\t}\n\n\t\t\tconst { export: _export } = await import('./api/export');\n\t\t\tconst { default: pb } = await import('pretty-bytes');\n\n\t\t\tawait _export({\n\t\t\t\tcwd: opts.cwd,\n\t\t\t\tstatic: opts.static,\n\t\t\t\tbuild_dir: opts['build-dir'],\n\t\t\t\texport_dir: dest,\n\t\t\t\tbasepath: opts.basepath,\n\t\t\t\ttimeout: opts.timeout,\n\n\t\t\t\toninfo: event => {\n\t\t\t\t\tconsole.log(colors.bold.cyan(`> ${event.message}`));\n\t\t\t\t},\n\n\t\t\t\tonfile: event => {\n\t\t\t\t\tconst size_color = event.size > 150000 ? colors.bold.red : event.size > 50000 ? colors.bold.yellow : colors.bold.gray;\n\t\t\t\t\t\tconst size_label = size_color(left_pad(pb(event.size), 10));\n\n\t\t\t\t\t\tconst file_label = event.status === 200\n\t\t\t\t\t\t\t? event.file\n\t\t\t\t\t\t\t: colors.bold[event.status >= 400 ? 'red' : 'yellow'](`(${event.status}) ${event.file}`);\n\n\t\t\t\t\t\tconsole.log(`${size_label}   ${file_label}`);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconsole.error(`\\n> Finished in ${elapsed(start)}. Type ${colors.bold.cyan(`npx serve ${dest}`)} to run the app.`);\n\t\t} catch (err) {\n\t\t\tconsole.error(colors.bold.red(`> ${err.message}`));\n\t\t\tprocess.exit(1);\n\t\t}\n\t});\n\nprog.parse(process.argv);\n\n\nasync function _build(\n\tbundler: 'rollup' | 'webpack',\n\tlegacy: boolean,\n\tcwd: string,\n\tsrc: string,\n\troutes: string,\n\toutput: string,\n\tdest: string\n) {\n\tconst { build } = await import('./api/build');\n\n\tawait build({\n\t\tbundler,\n\t\tlegacy,\n\t\tcwd,\n\t\tsrc,\n\t\troutes,\n\t\tdest,\n\n\t\toncompile: event => {\n\t\t\tlet banner = `built ${event.type}`;\n\t\t\tlet c = colors.cyan;\n\n\t\t\tconst { warnings } = event.result;\n\t\t\tif (warnings.length > 0) {\n\t\t\t\tbanner += ` with ${warnings.length} ${warnings.length === 1 ? 'warning' : 'warnings'}`;\n\t\t\t\tc = colors.yellow;\n\t\t\t}\n\n\t\t\tconsole.log();\n\t\t\tconsole.log(c(`┌─${repeat('─', banner.length)}─┐`));\n\t\t\tconsole.log(c(`│ ${colors.bold(banner)       } │`));\n\t\t\tconsole.log(c(`└─${repeat('─', banner.length)}─┘`));\n\n\t\t\tconsole.log(event.result.print());\n\t\t}\n\t});\n}"],"names":["repeat","rpad","ALL","DEF","$","mri","sade","pkg.version","colors","path.relative","format_milliseconds","path.resolve","fs.writeFileSync","elapsed","left_pad"],"mappings":"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"}